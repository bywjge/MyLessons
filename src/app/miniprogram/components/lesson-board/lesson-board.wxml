<view class="day-lesson-wrapper">
  <view 
    class="strip"
    wx:for="{{item}}"
    wx:for-item="day"
    wx:for-index="index"
    wx:key="day"
    data-active="{{index === activeIndex}}"
  >
    <view
      wx:if="{{!e['ignore']}}"
      class="{{e === null? 'empty-item': 'item'}}"
      hover-class="item-tap"
      data-conflict="{{!!e['冲突']}}"
      data-item="{{e}}"
      data-connect="{{e['long']}}"
      data-status="{{e !== null && e['日期'] === nowDate && ~~e['节次'][0] == nowIndex ? 'underway' : 'normal'}}"
      data-day="{{index}}"
      data-empty="{{e === null}}"
      data-index="{{indexInDay}}"
      wx:for="{{day}}"
      wx:for-item="e"
      wx:for-index="indexInDay"
      wx:key="e"
      catchlongpress="handleLessonLongPress"
      catchtap="handleLessonTap"
    >
      <!-- <text>{{(day[indexInDay - 1]['long'] + day[indexInDay - 1]['课程名称']) !== (e['long'] + e['课程名称'])}}</text> -->
      <view wx:if="{{e !== null}}" class="name">{{e['课程名称']}}</view>
      <view wx:if="{{e !== null}}" class="bottom" style="background-color: {{e['卡片颜色']}}">
        <view wx:if="{{e['编号'] !== ''}} "class="number">{{e['编号']}}</view>
        <view class="location">{{e['地点']}}</view>
      </view>
      <fa 
        icon="fa fa-plus fa-lg" 
        wx:if="{{showAddButton['day'] === index && showAddButton['index'] === indexInDay}}"
      />
    </view>
  </view>
</view>